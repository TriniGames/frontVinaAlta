<mat-toolbar class="mat-elevation-z8">
  <span class="fill-remaining-space">Producto</span>
  <button mat-icon-button class="help-button" (click)="openHelp()">
    <mat-icon> help </mat-icon>
  </button>
</mat-toolbar>
<div class="container">
  <div
    class="form-container"
    novalidate
    [ngClass]="helpClicked ? 'w70' : 'w100'"
  >
    <form [formGroup]="formGroup" class="form">
      <mat-form-field class="form-element" style="width: 50%">
        <input matInput placeholder="Name" formControlName="Name" />
        <mat-error *ngIf="!controls('Name').valid && controls('Name').touched">
          {{ error }}
        </mat-error>
      </mat-form-field>

      <mat-checkbox
        formControlName="PartialProduct"
        style="width: 10%; padding-left: 14px"
        >Producto parcial</mat-checkbox
      >

      <mat-form-field class="form-element" style="width: 100%">
        <textarea
          matInput
          placeholder="Description"
          formControlName="Description"
        >
        </textarea>
        <mat-error
          *ngIf="
            !controls('Description').valid && controls('Description').touched
          "
        >
          {{ error }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input
          matInput
          placeholder="Size"
          formControlName="Size"
          type="number"
        />
        <mat-error *ngIf="!controls('Size').valid && controls('Size').touched">
          {{ error }}
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-element">
        <input matInput placeholder="Unit" formControlName="Unit" />
        <mat-error *ngIf="!controls('Unit').valid && controls('Unit').touched">
          {{ error }}
        </mat-error>
      </mat-form-field>

      <div
        formArrayName="Suplies"
        *ngFor="
          let suply of formGroup.get('Suplies')['controls'];
          let i = index
        "
        style="width: 100%"
      >
        <div [formGroupName]="i">
          <mat-form-field class="form-element" style="width: 80%">
            <mat-select
              placeholder="Suplies"
              formControlName="SingleSupply"
              multiple
            >
              <mat-option
                *ngFor="let suplyOption of supliesOptions"
                [value]="suplyOption"
                >{{ suplyOption }}</mat-option
              >
            </mat-select>
          </mat-form-field>

          <button mat-icon-button class="add-suply-button" (click)="addSuply()">
            <mat-icon> add </mat-icon>
          </button>
        </div>
      </div>

      <div class="form-element">
        <button
          mat-raised-button
          type="button"
          class="button"
          [disabled]="!formGroup.valid"
          (click)="onSubmit()"
        >
          Submit Form
        </button>
      </div>
    </form>
  </div>

  <div class="help-container" [ngClass]="{ dnone: !helpClicked }">
    <mat-card class="help-card">
      <mat-card-title>¿Como cargo un producto?</mat-card-title>
      <mat-card-subtitle>Sugerencias:</mat-card-subtitle>
      <mat-card-content>
        <p class="title-sugest">Nombre</p>
        <p>Coloca un nombre descriptivo para identificarlo rapidamente</p>
        <mat-divider inset></mat-divider>
        <p class="title-sugest">Descipcion</p>
        <p>
          Aqui puedes agregar mas informacion por si el nombre no es lo
          suficientemente descriptivo
        </p>
        <mat-divider inset></mat-divider>
        <p class="title-sugest">Tamaño y Unidad</p>
        <p>Estos dos campos describen como se cuenta o mide el producto</p>
        <mat-divider inset></mat-divider>
        <p class="title-sugest">Insumos</p>
        <p>Que tipo de insumo se utiliza para producir este producto</p>
        <p>
          (Si no lo encuetras puedes ir a la pestaña insumos para crearlor
          (<span
            ><a href="http:// " target="_blank " rel="noopener noreferrer "
              >Insumos</a
            ></span
          >))
        </p>
      </mat-card-content>
    </mat-card>
  </div>
</div>
